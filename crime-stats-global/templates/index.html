<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Global Crime Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <div class="main-wrapper">
    <h1 class="page-title">Crime Around the World</h1>
    <p class="subheading">Opening up global crime data</p>

    <p class="description">
      <span class="highlight">Crime Around the World</span> is a dashboard that visualizes crime trends across countries from <strong>2019 to 2024</strong>. It helps you explore different types of crimes, such as <em>intentional homicide</em>, <em>corruption</em>, and <em>firearms trafficking</em> ‚Äî without having to dig through complex data files or PDFs.
    </p>

    <p class="description emphasis">
      Understand your region. Compare global crime levels.
    </p>
    <p class="description small-text">
      Choose a country to begin, or browse global statistics. You can also <a href="/map">view the map</a> for 2023 data.
    </p>

    <div class="form-box">
      <form onsubmit="handleCountrySubmit(event)">
        <select id="country" required>
          <option value="">Select a country</option>
          {% for country in countries %}
            <option value="{{ country }}">{{ country }}</option>
          {% endfor %}
        </select>
        <button type="submit">Show Stats</button>
      </form>

      <form action="{{ url_for('stats') }}" method="get">
        <button type="submit" class="secondary-btn">üåç View Global Stats</button>
      </form>
    </div>

    <div class="top10-section">
      <h2>Top 10 Countries by Total Crime (2019‚Äì2024)</h2>
      <ol>
        {% for item in top_10 %}
          <li><strong>{{ item['Country'] }}</strong>: {{ "{:,.0f}".format(item['total_crime']) }} crimes</li>
        {% endfor %}
      </ol>
    </div>
  </div>

  <script>
    function handleCountrySubmit(event) {
      event.preventDefault();
      const country = document.getElementById('country').value;
      if (country) {
        window.location.href = '/country/' + encodeURIComponent(country);
      }
    }
  </script>

</body>
</html>
